import{$a as c,cb as h,db as n,eb as a,gb as f,q as s,t as o}from"./chunk-76546ULM.js";var p=(()=>{class e extends h{constructor(r,t,i,l){super({name:"manaforge"},r,t,i,l),this.manaforges=this.getDocs(),this.manaforgesByAuthor={},this.hero={},this.__http=r,this.get(),this.filteredDocuments(this.manaforgesByAuthor),r.get("/api/manaforgeworld/getpublic").subscribe(d=>{this.worlds=d})}load(r){r.world!==this.world&&(this.world=r.world,this.__http.get("/api/manaforgestory/getpublic?world="+this.world).subscribe(t=>{this.stories=t,this.rootStories=t.filter(i=>!!i.story)}),this.__http.get("/api/manaforgehero/getpublic?world="+this.world).subscribe(t=>{this.heroes=t;for(let i of t)this.hero[i._id]=i}),console.log(r))}static{this.\u0275fac=function(t){return new(t||e)(o(a),o(n),o(f),o(c))}}static{this.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{p as a};
