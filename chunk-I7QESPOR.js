import{a as S}from"./chunk-2OTDXTYC.js";import{e as C}from"./chunk-TJS7GMF3.js";import{$a as u,H as n,K as l,L as f,Q as p,Ua as h,W as d,gb as _,lb as g,r as c,sb as v,ub as y}from"./chunk-76546ULM.js";var M={formId:"manaforge",title:"Manaforge",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill manaforge title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill manaforge description"},{name:"Label",value:"Description"}]}]};var w=(()=>{class i{get rows(){return this._manaforgeService.manaforges}constructor(r,t,e,a,s){this._translate=r,this._manaforgeService=t,this._alert=e,this._form=a,this._core=s,this.columns=["name","description"],this.form=this._form.getForm("manaforge",M),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(o,m)=>{this._preCreate(o),this._manaforgeService.create(o),m()}})},update:o=>{this._form.modal(this.form,[],o).then(m=>{this._core.copy(m,o),this._manaforgeService.update(o)})},delete:o=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this manaforge?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._manaforgeService.delete(o)}}]})},buttons:[{icon:"cloud_download",click:o=>{this._form.modalUnique("manaforge","url",o)}}],headerButtons:[{icon:"playlist_add",click:this._bulkManagement(),class:"playlist"},{icon:"edit_note",click:this._bulkManagement(!1),class:"edit"}]}}_bulkManagement(r=!0){return()=>{this._form.modalDocs(r?[]:this.rows).then(t=>{if(r)for(let e of t)this._preCreate(e),this._manaforgeService.create(e);else{for(let e of this.rows)t.find(a=>a._id===e._id)||this._manaforgeService.delete(e);for(let e of t){let a=this.rows.find(s=>s._id===e._id);a?(this._core.copy(e,a),this._manaforgeService.update(a)):(this._preCreate(e),this._manaforgeService.create(e))}}})}}_preCreate(r){r.__created}static{this.\u0275fac=function(t){return new(t||i)(n(g),n(S),n(_),n(y),n(u))}}static{this.\u0275cmp=l({type:i,selectors:[["ng-component"]],standalone:!1,decls:1,vars:3,consts:[["title","Gameplays",3,"columns","config","rows"]],template:function(t,e){t&1&&d(0,"wtable",0),t&2&&p("columns",e.columns)("config",e.config)("rows",e.rows)},dependencies:[v],encapsulation:2})}}return i})();var k=[{path:"",component:w}],P=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=f({type:i})}static{this.\u0275inj=c({imports:[h.forChild(k),C]})}}return i})();export{P as GameplaysModule};
